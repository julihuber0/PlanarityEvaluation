cmake_minimum_required(VERSION 3.5)
project(PlanarityEvaluationFramework CXX)

set(CMAKE_CXX_FLAGS_DEBUG "-O0 -g -Wall")
set(CMAKE_CXX_FLAGS_RELEASE "-O3 -g -DNDEBUG -march=native -mtune=native")
message("CMAKE_BUILD_TYPE is ${CMAKE_BUILD_TYPE}")
message("CMAKE_CXX_FLAGS_DEBUG is ${CMAKE_CXX_FLAGS_DEBUG}")
message("CMAKE_CXX_FLAGS_RELEASE is ${CMAKE_CXX_FLAGS_RELEASE}")
message("CMAKE_CXX_FLAGS is ${CMAKE_CXX_FLAGS}")

find_package(OGDF REQUIRED)
if(NOT OGDF_FOUND)
    message(FATAL_ERROR "No OGDF configuration for CMake has been found. "
            "Please set OGDF_CONFIG_SEARCH_PATH such that ogdf-config.cmake (generated by your OGDF build) can be found.")
endif()

message(${OGDF_DIR})

file(GLOB SOURCES algorithms/BoyerMyrvoldEdgeAddition/*.cpp)

add_executable(Graph_Generator graph_generation/graph_generation.cpp)
add_executable(OGDF_Test ogdf_test.cpp)
add_executable(Adjacency_Generator graph_generation/gml_to_list.cpp)
add_executable(BoyerMyrvoldEdgeAddition ${SOURCES})
add_executable(BoothLueker algorithms/BoothLueker/BoothLueker.cpp)
add_executable(BoyerMyrvoldOGDF algorithms/BoyerMyrvoldOGDF/BoyerMyrvoldOGDF.cpp)

target_link_libraries(Graph_Generator OGDF)
target_link_libraries(OGDF_Test OGDF)
target_link_libraries(BoyerMyrvoldEdgeAddition OGDF)
target_link_libraries(BoothLueker OGDF)
target_link_libraries(BoyerMyrvoldOGDF OGDF)
target_link_libraries(Adjacency_Generator OGDF)

target_include_directories(Graph_Generator PRIVATE "${OGDF_INCLUDE_DIRS}")
target_include_directories(OGDF_Test PRIVATE "${OGDF_INCLUDE_DIRS}")
target_include_directories(BoyerMyrvoldEdgeAddition PRIVATE "${OGDF_INCLUDE_DIRS}")
target_include_directories(BoothLueker PRIVATE "${OGDF_INCLUDE_DIRS}")
target_include_directories(BoyerMyrvoldOGDF PRIVATE "${OGDF_INCLUDE_DIRS}")
target_include_directories(Adjacency_Generator PRIVATE "${OGDF_INCLUDE_DIRS}")
